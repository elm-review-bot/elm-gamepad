<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Main</title>
    <style>
      html,head,body { padding:0; margin:0; }
      body { font-family: calibri, helvetica, arial, sans-serif; }
    </style>

    <script type="text/javascript" src="app.js"></script>
    <script type="text/javascript" src="gamepadPort.js"></script>
    <script type="text/javascript" src="localStoragePort.js"></script>
  </head>
  <body>
    <script type="text/javascript">
      // A single source of truth for the local storage key avoids frustrating bugs
      var gamepadDatabaseKey = "gamepadDatabase";
      // We pass gamepadDatabaseKey and gamepadDatabaseAsString as flags to Elm
      var elmApp = Elm.Main.fullscreen({
        gamepadDatabaseKey: gamepadDatabaseKey,
        gamepadDatabaseAsString: localStorage[gamepadDatabaseKey] || "",
      });
      addGamepadPort(elmApp);
      addLocalStoragePort(elmApp);
    </script>
  </body>
</html>
